
Дополнительно задание Сириус ИИ 2024-2025

Этот код предназначен для работы с видеофайлами на Яндекс.Диске. Он выполняет три основные задачи: получает список видеофайлов, извлекает аудио из видео и преобразует это аудио в текст. Давайте разберем код по частям простым языком.

▎1. Импорт библиотек

• requests: позволяет отправлять запросы к API Яндекс.Диска.

• moviepy.editor: помогает работать с видео, например, извлекать звук.

• speech_recognition: используется для распознавания речи и преобразования звука в текст.

▎2. Определение переменных

• disk_url: адрес API Яндекс.Диска.

• access_token: специальный ключ, который нужен для доступа к вашему Яндекс.Диску.

• video_files: список, куда будут добавляться ссылки на видеофайлы.

▎3. Функция get_video_files(folder_path)

• Эта функция получает список файлов из указанной папки на Яндекс.Диске.

• Если запрос успешен, она добавляет ссылки на видеофайлы (с расширениями .mp4, .avi, .mov) в список video_files.

• Если что-то пошло не так, выводится сообщение об ошибке.

▎4. Функция extract_audio_from_video(video_path, audio_path)

• Эта функция извлекает звук из видеофайла и сохраняет его в отдельный файл.

• Для этого используется библиотека moviepy.

▎5. Функция transcribe_audio(audio_path)

• Эта функция берет аудиофайл и превращает его в текст.

• Она использует библиотеку speech_recognition для распознавания речи.

• Если что-то пошло не так (например, аудио не удалось распознать), выводится ошибка.

▎6. Функция summarize_video(video_path)

• Эта функция объединяет предыдущие шаги: сначала извлекает аудио из видео, а затем преобразует его в текст.

• Временный файл для звука называется 'temp_audio.wav'.

▎7. Пример использования функций

• В блоке if __name__ == '__main__' задается путь к папке на Яндекс.Диске.(тут из-за кривости работы сайта перед name и main 2 нижние подчеркивание)

• Вызывается функция get_video_files(), чтобы получить список видеофайлов.

• Для каждого видео вызывается функция summarize_video(), и результат выводится на экран.
